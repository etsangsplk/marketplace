/**
 * Apply checkstyle plugin.
 *
 * @author Nikita Kolytschew
 * @version %I%, %G%
 * @since 1.0.0-SNAPSHOT
 */


apply plugin: 'checkstyle'

/** Task for Checkstyle. */
tasks.withType(Checkstyle) {
	configFile file(checkstyleConfigFile)

	reports {
		xml.enabled false
		html.enabled true
		html.stylesheet resources.text.fromFile("${checkstyleReportFile}")
		html.destination "${exportCheckstyleAnalysis}/checkstyle.html"
	}
}

/** obsolete ? */
/*
checkstyle {
	sourceSets = [sourceSets.main]
	configFile = file(checkstyleConfigFile)
	reportsDir = file(exportCheckstyleAnalysis)
	toolVersion = '7.1.1'
}

task checkstyleHtmlReport << {
	ant.xslt(in: "${exportCheckstyleAnalysis}/main.xml", style: "${checkstyleReportFile}", out: "${exportCheckstyleAnalysis}/checkstyle.html")
}
checkstyleMain.finalizedBy checkstyleHtmlReport
*/